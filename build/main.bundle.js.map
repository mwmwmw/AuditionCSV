{"version":3,"sources":["webpack:///webpack/bootstrap ead7d3b8836f9e5cc28a","webpack:///./src/Main.js","webpack:///./node_modules/papaparse/papaparse.js","webpack:///./src/AuditionCSV.js"],"names":["default","root","factory","define","module","exports","Papa","global","self","window","IS_WORKER","document","postMessage","IS_PAPA_WORKER","test","location","search","LOADED_SYNC","AUTO_SCRIPT_PATH","workers","workerIdCounter","parse","CsvToJson","unparse","JsonToCsv","RECORD_SEP","String","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","BAD_DELIMITERS","WORKERS_SUPPORTED","Worker","SCRIPT_PATH","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","$","fn","options","config","queue","each","idx","supported","prop","toUpperCase","attr","toLowerCase","FileReader","files","length","i","push","file","inputElem","instanceConfig","extend","parseNextFile","isFunction","complete","f","before","returned","action","error","reason","fileComplete","userCompleteFunc","results","name","elem","splice","onmessage","workerThreadReceivedMessage","getScriptPath","body","addEventListener","_input","_config","dynamicTyping","dynamicTypingFunction","worker","w","newWorker","userStep","step","userChunk","chunk","userComplete","userError","input","workerId","id","streamer","download","readable","read","on","File","Object","stream","_output","_fields","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","unpackConfig","quoteCharRegex","RegExp","JSON","Array","serialize","objectKeys","data","fields","meta","delimiter","indexOf","quotes","newline","quoteChar","header","obj","keys","key","csv","hasHeader","dataKeyedByField","safe","row","maxCol","col","colIdx","str","toString","replace","needsQuotes","hasAny","charAt","substrings","ChunkStreamer","_handle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","replaceConfig","call","parseChunk","beforeFirstChunk","modifiedChunk","undefined","aggregate","paused","aborted","lastIndex","cursor","substring","finishedIncludingPreview","preview","WORKER_ID","finished","concat","_sendError","configCopy","copy","chunkSize","parseInt","xhr","_readChunk","_chunkLoaded","url","XMLHttpRequest","withCredentials","onload","bindFunction","onerror","_chunkError","open","downloadRequestHeaders","headers","headerName","setRequestHeader","end","send","err","message","status","readyState","getFileSize","responseText","errorMessage","errorText","statusText","contentRange","getResponseHeader","substr","lastIndexOf","prototype","create","constructor","reader","slice","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","Math","min","size","txt","readAsText","encoding","target","result","event","string","remaining","s","parseOnData","_streamData","_streamEnd","_streamError","shift","_streamCleanUp","removeListener","FLOAT","_stepCounter","_parser","_aborted","_delimiterError","_results","needsHeaderRow","processResults","abort","baseIndex","ignoreLastRow","guessLineEndings","delimGuess","guessDelimiter","skipEmptyLines","successful","bestDelimiter","parserConfig","pause","getCharIndex","resume","addError","fillHeaderFields","applyHeaderAndDynamicTyping","j","shouldApplyDynamicTyping","field","parseDynamic","value","tryParseFloat","delimChoices","bestDelim","bestDelta","fieldCountPrevRow","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","abs","r","split","n","nAppearsFirst","numWithN","val","isNumber","parseFloat","type","code","msg","comments","fastMode","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","rows","pushRow","doStep","nextDelim","nextNewline","quoteSearch","index","finish","saveRow","newCursor","stopped","linebreak","truncated","scripts","getElementsByTagName","src","Error","workerUrl","mainThreadReceivedMessage","e","completeWorker","handle","notImplemented","terminate","cpy","apply","arguments","func","require","AuditionCSV","load","then","response","ok","text","Promise","reject","convert","resolve","fetch"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ead7d3b8836f9e5cc28a","import AuditionCSV from \"./AuditionCSV\";\r\nexport {AuditionCSV as default};\n\n\n// WEBPACK FOOTER //\n// ./src/Main.js","/*!\n\tPapa Parse\n\tv4.3.5\n\thttps://github.com/mholt/PapaParse\n\tLicense: MIT\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function () {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar+_quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t}\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error.message);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._finished = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\temptyLinesCount++\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/papaparse/papaparse.js","const Papa = require('papaparse');\r\n\r\nexport default class AuditionCSV {\r\n\tstatic getMarkers(file) {\r\n\t\treturn AuditionCSV\r\n\t\t\t.load(file)\t\r\n\t\t\t.then((response)=>response.ok ? response.text() : Promise.reject(response))\r\n\t\t\t.then((results)=>AuditionCSV.convert(results))\r\n\t\t\t.then((results)=>results.data);\r\n\t}\r\n    static convert(file) {\r\n        return new Promise((resolve, reject) => {\r\n            Papa.parse(file, {\r\n                complete: function(results) {\r\n                    resolve(results)\r\n                }\r\n            });\r\n        })\r\n    }\r\n    static load(file) {\r\n    \treturn fetch(file);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/AuditionCSV.js"],"sourceRoot":""}